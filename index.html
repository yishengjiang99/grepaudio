<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>rt</title>
    <link rel="stylesheet" href="style.css">   
    <link rel="stylesheet" href="./lib/vendors/simple-console.css">
<script src="./lib/vendors/simple-console.js"></script>

</head>
<!-- https://www.googleapis.com/customsearch/v1?q=music&key=AIzaSyBCXMcymaqef8RmYskmdVOJcQA5e06Zvyg -->
<body style='margin-left:20px'>

     <h3>Mix Sounds   <span id='rx1'></span></h3>
    <table>
        <tr>
            <td>
                <div id='ctrls'>

                    <select id='select_song'></select>
                    <input type=radio> </input>
                </div>
               <audio controls id='yt2' src="./samples/lana.mp3"></audio>
            </td>
            <td>
                  <div> pre-amp Volume:&nbsp;&nbsp;&nbsp;&nbsp;
                    <input type="range" 
                        id="volume" 
                        class="control-volume" 
                        min="-1" max="4" value="1" 
                        list="gain-vals"
                        step="0.01" 
                        oninput="event.target.nextElementSibling.innerText=event.target.value"
                        data-action="volume" />
                    <label>1</label></div>

                   <div> second amp Volume:
                    <input type="range" 
                        id="volume2" 
                        class="control-volume" 
                        min="0" max="3" value="1" 
                        list="gain-vals"
                        step="0.01" 
                        oninput="event.target.nextElementSibling.innerText=event.target.value"
                        data-action="volume" />
                    <label>1</label>
                    <button id='select-mike'>use mic</button>
                    </div>
            </td>
   
        </tr>
        <tr>
            <td rowspan=2 colspan=2>
                <button id='start'>Click to initialize audio ctx</button>

                <form id='eq_update_form'> 

<div class="equalizer">
    <div class="section">
      <div class="title">HF</div>
      <div class="sliders">
        <div class="range-slider">
          <span class="scope">22</span>
          <input type="range" class="vertical" min="4700" max="22000" step="100" value="4700" data-filter="highShelf" data-param="frequency">
          <span class="scope scope-min">4.7</span>
          <span class="param">kHz</span>  
        </div>
        <div class="range-slider">
          <span class="scope">50</span>
          <input type="range" class="vertical" min="-50" max="50" value="50" data-filter="highShelf" data-param="gain">
          <span class="scope scope-min">-50</span>
          <span class="param">dB</span>  
        </div>
      </div>
    </div>
      
    <div class="section">
      <div class="title">LF</div>
      <div class="sliders">
        <div class="range-slider">
          <span class="scope">220</span>
          <input type="range" class="vertical" min="35" max="220" step="1" value="35" data-filter="lowShelf" data-param="frequency">
          <span class="scope scope-min">35</span>
          <span class="param">Hz</span>  
        </div>
        <div class="range-slider">
          <span class="scope">50</span>
          <input type="range" class="vertical" min="-50" max="50" value="50" data-filter="lowShelf" data-param="gain">
          <span class="scope scope-min">-50</span>
          <span class="param">dB</span>  
        </div>
      </div>
    </div>
        
    <div class="section">
      <div class="title">HMF</div>
      <div class="sliders">
        <div class="range-slider">
          <span class="scope">5.9</span>
          <input type="range" class="vertical" min="800" max="5900" step="100" value="800" data-filter="highPass" data-param="frequency">
          <span class="scope scope-min">0.8</span>
          <span class="param">kHz</span>  
        </div>
        <div class="range-slider">
          <span class="scope">12</span>
          <input type="range" class="vertical" min="0.7" max="12" step="0.1" value="0.7" data-filter="highPass" data-param="Q">
          <span class="scope scope-min">0.7</span>
          <span class="param">Q</span>  
        </div>
      </div>
    </div>  
      
    <div class="section">
      <div class="title">LMF</div>
      <div class="sliders">
        <div class="range-slider">
          <span class="scope">1600</span>
          <input type="range" class="vertical" min="80" max="1600" step="10" value="880" data-filter="lowPass" data-param="frequency">
          <span class="scope scope-min">80</span>
          <span class="param">Hz</span>  
        </div>
        <div class="range-slider">
          <span class="scope">12</span>
          <input type="range" class="vertical" min="0.7" max="12" step="0.1" value="0.7" data-filter="lowPass" data-param="Q">
          <span class="scope scope-min">0.7</span>
          <span class="param">Q</span>  
        </div>
      </div>
    </div></td>
    <td> <div id='fr'></div></td>
   
            </td>
            <td>
                <span class='canvas_wrapper'><canvas id='input_freq'></canvas></span>
            </td>
            <td>

                <div class='canvas_wrapper'><canvas id='output_freq'></canvas></div>

            </td>
           
        </tr>
        <tr>
            <td colspan=3>
               
                <div class='large_canvas'><canvas id='amp_response'></canvas></div>
            </td>
        </tr>

        <tr>
            <td colspan=3>
                <span class='canvas_wrapper'><canvas id='canvas1'></canvas></span>
                <div class='canvas_wrapper'><canvas id='canvas2'></canvas></div>

            </td>
        </tr>
        <tr?
        ></td>
    </table></div>

</body>

<template id='eq_ui_row_template'>
 <tr>
        <td><span class='hz_label'></span></td>
        <td><input name="gain"  value="0" data-index="0" type="range" min="-12" max="12" step="0.1"></td>
        <td><span class='gain_label' for='update_gain'></span></td>
        <td><input name="q" value="8" data-index="0" type="range" min="0" max="60" step="0.1"></td>
        <td><span  class="q_label"></span></td>
        <td><meter class="freq_resp_meter" type="range" min="0" max="60" step="0.1"></meter></td>


        <td><input name="threshold" step="0.1" tag="0" type="range" value="-24" placeholder="threshold" max="0" min="-100"> </td>
        <td><span  class="threshold_label"></span></td>

        <td><input size="3" name="knee" step="0.1" tag="0" type="numeric" value="30" placeholder="knee" max="40" min="0"> </td>
        <td><input size="3" name="ratio" step="0.1" tag="0" type="numeric" value="12" placeholder="ratio" max="20" min="1"> </td>
        <td><input size="3" name="attack" step="0.1" tag="0" type="numeric" value="0" placeholder="attack" max="1" min="0"> </td>
        <td><input size="3" name="release" step="0.1" tag="0" type="numeric" value="0.25" placeholder="release" max="20" min="1"> </td>
 </tr>
</template>

<script type='module' src='./equalizer.js'></script>
<script>

var con = new SimpleConsole({
	placeholder:"",
    id: "console",
	handleCommand: function(command){
		try {
		    con.log(window.eq_stdin(command));
		} catch(error) {
			con.log(error);
		}
	},
	autofocus: true, // if the console is to be the primary interface of the page
	storageID: "app-console", // or e.g. "simple-console-#1" or "workspace-1:javascript-console"
});

// add the console to the page
document.body.append(con.element);

window.log = con.log;;
window.logErr = con.logError;
// show any uncaught errors (errors may be unrelated to the console usage)
// con.handleUncaughtErrors();
con.element.onclick= document.getElementById("simple-console-input").focus();
</script>

</body>

</html>