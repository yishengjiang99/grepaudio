<html>
  <body>
    <!-- Add a placeholder for the Twitch embed -->
    <div id="twitch-embed"></div>

    <!-- Load the Twitch embed script -->
    <script src="https://embed.twitch.tv/embed/v1.js"></script>

    <!-- Create a Twitch.Embed object that will render within the "twitch-embed" root element. -->
    <script type="text/javascript">
      const embed = new Twitch.Embed("twitch-embed", {
        width: 854,
        height: 480,
        channel: "monstercat",
        // only needed if your site is also embedded on embed.example.com and othersite.example.com 
        parent: ["embed.example.com", "othersite.example.com"]
      });


      embed.addEventListener(Twitch.Embed.VIDEO_READY, () => {
        var player = embed.getPlayer();
        player.play();
      });

      var xhr =new XMLHttpRequest();
      xhr.withCredentials=true;
      xhr.setRequestHeader("Accept", "application/vnd.twitchtv.v5+json");
      xhr.setRequestHeader("Client-ID", "e8e2av260ltgocmm62aw6zkojeems3");
      xhr.open("https://api.twitch.tv/kraken/clips/top?limit=100&game=Hearthstone&trending=true");
      xhr.onload = e=>{ parseList(xhr.response) }

      function parseList(listJSON){
      debugger;
      }

    </script>
  </body>
</html>
